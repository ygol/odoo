<templates id="template" xml:space="preserve">
    <t t-name="referral_tracking_sub_template">
        <t t-if="reward_value">
            <div class="row border-bottom">
                <div class="col-lg-12 p-3">
                    <h2 class="text-600 mb-0">
                        <b>
                            <div id="potential_reward">
                                <t t-esc="potential_reward"/>
                            </div>
                        </b>
                    </h2>
                    <p class="text-muted">Potential rewards</p>
                    <h4 class="text-600 mb-0">
                        <b>
                            <t t-esc="total_reward" />
                        </b>
                    </h4>
                    <p class="text-muted">Rewards won</p>
                </div>
            </div>
        </t>
        <t t-foreach="my_referrals" t-as='re'>
            <t t-set="r" t-value="my_referrals[re]"/>
            <t t-call="referral_tracking_single_sub_template" />
        </t>
    </t>


    <t t-name="referral_tracking_single_sub_template">
            <div class="row pt-3">
                <div class="col-8">
                    <div class="row">
                        <div class="col-sm-8">
                                <p class="font-weight-bolder text-600 m-0"><t t-esc="r['name']" /></p>
                                <p class="text-muted m-0"><t t-esc="r['company']" /></p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <t t-if="r['state'] == 'new'">
                                <span class="badge badge-primary px-2">Referred</span>
                            </t>
                            <t t-else="">
                                <span class="badge badge-secondary px-2">Referred</span>
                            </t>
                            <span><i class="text-muted fa fa-chevron-right"/></span>
                            <t t-if="r['state'] == 'in_progress'">
                                <span class="badge badge-primary px-2">In Progress</span>
                            </t>
                            <t t-else="">
                                <span class="badge badge-secondary px-2">In Progress</span>
                            </t>
                            <span><i class="text-muted fa fa-chevron-right"/></span>
                            <t t-if="r['state'] == 'done'">
                                <span class="badge badge-primary px-2">Won</span>
                            </t>
                            <t t-else="">
                                <span class="badge badge-secondary px-2">Won</span>
                            </t>
                        </div>
                    </div>
                </div>
            </div>
    </t>
</templates>
